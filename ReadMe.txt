Introduction
========================

Welcome to Delhi ka Dota!! It is a multiplayer networked game where you play the role of a character with special powers.
Your goal is to destroy the temple of your opponent team before it destroy yours!!

<fig :- DkD Game>

In this document we specify how we made this game. This includes the logical design as well as the slight technical details about the various issues faced.

Chapter 2- OpenGL rendering.
-------------------------
Section-1 :- Rendering
-----------------------
OpenGL is used alongwith GLUT windowing system for rendering purposes. The biggest issue faced here was the problem of defining the co-ordinate system. Whether to use the OpenGL co-ordinate system and proceed or to divide the screen into a grid and transform all OpenGL co-ordinate mappings thereafter. The problem with the former is that to use it with the pathfinding algorithm, we need to make necessary adjustments for detecting a quad of obstacles and so on.However, the former method ensures simple rendering of map as we just need to blit a single image in the memory and work on pixel specific details of that image.
Ultimately a compromise between the two is achieved. We divided the screen to 800X800 pixels. We divided the entire map as small blocks/units - Tiles. In this way, entire screen is divided 25 tiles X 25 tiles and the world co-ordinates ran from 0-24 in each direction.

<fig :- Tiles 1, 2, 3, 4>
This not only helped rendering but also gave us simple co-ordinate system which helped in path finding.

Section-2 :- Collision detection
-----------------------------------
Collision resolution stood as a problem when we departed from original openGL co-ordinate system by which we could have obtained a bounded rectangle collision or pixel perfect collision. As a solution we stored a boolean property for each tile of the map. Each time an object is placed one or more tiles is marked collidable. As a result, our pathfinding algorithms detect the collision easily.

Section-3 :- Movements and Special Effects
------------------------------
We used png images for creating the movement.Each png image is chosen/scaled to power of two for a better fit into our 32X32 Tiled architecture. For example, we use 128X128 px images for  trees; thus trees spanned a area of 4X4 tiles.
Movement was rendered by the by the best-first path finding algorithm for finding path to proper destination.Heroes move from tile to tile. 
We have given 8 movements - N,S,E,W,NW,NE,SW,SE. Each hero moves one tile forward in respective direction
(as per the letters). Thus to move two Tiles south we give a sequence S,S.


Section-2.4: - Overlays
---------------------------
This is simple and is implemented by maintaining an order of rendering.Overlays are rendered to screen by rendering it over other objects.
Example - Win game/Lose game overlay.
<fig - Lose game figure>

Chapter 3- Networking
-----------------------
Section-1:-
-------------
The model of network is chosen such that each node has two separate threads for listening and talking. Intuitively, this are for reading and writing sockets for network connections respectively.

Section- 2:-
-------------
Choosing the right type of sockets came as an issue as we decided to use datagram sockets first.But that went as a problem as the connected four nodes often not getting frequent updates. So we switched to to stream sockets later.
Main messages that were sent to the network were -

i) Hero status update - Update the health , power, speed etc. properties of hero to all four nodes.
ii)Hero attack update - Whenever a hero attacks another, we give an event signal having the attacking hero id and victim hero id.We also give the attack type.
iii)Temple status update - Whenever hero attacks a temple we send the temple id that is being attacked.

Chapter - 4- Game World
--------------------------

Section-1:-
-----------------
There are mainly two types of elements in the Game World-

1. Map 
---------------

The map is generated by few tilesets arranged in particular pattern. Each tileset is associated with a OpenGL texture.
Entire world is divided into map co-ordinates. So every element in any part of the screen is mapped to a map-cordinate.
Tilesets are further marked colliding/non-colliding for collision handling.

2. Objects
---------------
Any item other than map terrain in game - collectibles,temple,heroes etc. are objects.
As obvious it is of many types. 

i) Map objects - Rocks /Trees - dont move and just an obstacle in movement in map.
ii) Collectibles - Any item which when collides with a hero disappears(with some statistics upgrade for the hero).
iii) Temple - It is like the map object with some health points and damage parameters.
iv) Heroes - Only movable objects of the game. Has statistics and perform actions that change the world state.

Section-2
-----------------

TEAM-A (Team - Silver)
------------
1. Hero - 1
----------------
<fig - Alhin>
Name - Alhin

Type - Healthy

Powers-
i. Melee attack - Alhin attacks with a huge damage rate. But he is slower than his partner
ii. Magical power  - Stunner . Alhin is a slow stunner. But when he is the best when his spell works!!

2. Hero - 2
----------------
<fig - Sharej>
Name -  Sharej 

Type - Agile

Powers- 
i. Melee attack - Sharej is the fastest player. He moves and attack fast. But he has less damage rate.
ii.Magical power - Disabler . Sharej can disable any other heroes for 5 seconds.

TEAM - B (Team - Gold)
---------------

3. Hero - 3
----------------
<fig - Meena>
Name -  Meena 

Type - Agile

Powers- 
i. Melee attack - Meena is fast and attacks good but has lesser health than other heroes.
ii.Magical power - Burst . This is totally aggresive player she can shot burst of spells very quickly.

4. Hero - 4
---------------
<fig -Acoc>
Name - Acoc

Type - Healthy
Powers-
i. Melee attack - Acoc is the healthiest and also strongest. But he is the slowest.
ii.Slower - He can turn other players slow.

Other than power and health , each hero is given a mana which is basically a timer after which the hero can give the nexxt magic attack.

Section - 3 :-
-----------------

Items - 
These are collectibles which when collected by heroes give them bonuses like extra health etc.
Items randomly generated after a certain interval of time.

Currently there are 4 major kinds of collectibles.
----------------------------------
1) Red - This gives health bonus of 100.
2) Green - This gives a power bonus of 5.
3) Purple - This restores the health of the temple.
4) Lemon - This gives a mana bonus.
5) Blue - This doubles the speed of the hero.

